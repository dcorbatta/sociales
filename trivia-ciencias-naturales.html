<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Trivia Ciencias Naturales</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    body {
      background: linear-gradient(135deg, #e8f6ef 0%, #f9fbe7 100%);
      font-family: 'Comic Neue', Arial, sans-serif;
      color: #222;
      margin: 0;
      padding: 0;
    }
    .trivia-section {
      background: #fff;
      border-radius: 18px;
      box-shadow: 0 4px 16px #b2dfdb;
      margin: 32px auto;
      max-width: 700px;
      padding: 32px 24px;
      text-align: center;
    }
    .trivia-title {
      color: #228B22;
      font-size: 2em;
      margin-bottom: 1.2em;
      letter-spacing: 1px;
    }
    .trivia-block-title {
      color: #1976d2;
      font-size: 1.3em;
      margin-bottom: 1em;
      background: #e3f2fd;
      border-radius: 12px;
      padding: 0.5em 0;
      box-shadow: 0 2px 8px #b2dfdb;
      display: inline-block;
    }
    .trivia-card {
      background: #e3f2fd;
      border-radius: 16px;
      box-shadow: 0 2px 8px #b2dfdb;
      padding: 2em 1.2em 1.2em 1.2em;
      margin: 0 auto 2em auto;
      max-width: 480px;
      text-align: center;
      border: 3px solid #43a047;
    }
    .trivia-btn, .trivia-options button {
      background: linear-gradient(90deg, #43a047 0%, #228B22 100%);
      color: #fff;
      font-size: 1.1em;
      font-weight: bold;
      padding: 0.7em 2em;
      border: none;
      border-radius: 30px;
      box-shadow: 0 2px 8px #b2dfdb;
      letter-spacing: 1px;
      margin: 0.3em 0.5em;
      cursor: pointer;
      transition: background 0.2s, transform 0.1s;
    }
    .trivia-btn.orange, .trivia-options button.orange {
      background: linear-gradient(90deg, #ffb74d 0%, #ff9800 100%);
      color: #fff;
      box-shadow: 0 2px 8px #ffe0b2;
    }
    .trivia-btn:hover, .trivia-options button:hover:not(:disabled) {
      background: linear-gradient(90deg, #66bb6a 0%, #43a047 100%);
      transform: scale(1.04);
    }
    .trivia-btn.orange:hover, .trivia-options button.orange:hover:not(:disabled) {
      background: linear-gradient(90deg, #ffd54f 0%, #ffb300 100%);
    }
    .trivia-options {
      display: flex;
      flex-direction: column;
      gap: 1em;
      align-items: center;
      margin-bottom: 1em;
    }
    .trivia-feedback {
      min-height: 2em;
      font-size: 1.15em;
      font-weight: bold;
      text-align: center;
      margin-bottom: 1em;
      margin-top: 0.5em;
      border-radius: 10px;
      padding: 0.5em 1em;
      transition: background 0.2s, color 0.2s;
    }
    .trivia-feedback.correcto {
      background: #e8f6ef;
      color: #228B22;
      border: 2px solid #43a047;
    }
    .trivia-feedback.incorrecto {
      background: #ffebee;
      color: #d32f2f;
      border: 2px solid #d32f2f;
    }
    .volver-inicio {
      display: block;
      margin: 2em auto 0 auto;
      background: #228B22;
      color: #fff;
      font-size: 1.1em;
      font-weight: bold;
      padding: 0.7em 2em;
      border-radius: 30px;
      text-decoration: none;
      box-shadow: 0 2px 8px #b2dfdb;
      letter-spacing: 1px;
      transition: background 0.2s;
      width: fit-content;
    }
    .volver-inicio:hover {
      background: #43a047;
    }
    .trivia-menu { display: flex; flex-wrap: wrap; gap: 2em; justify-content: center; margin: 2em 0; }
    .trivia-btn { font-size: 1.2em; padding: 1.2em 2.5em; border-radius: 18px; font-weight: bold; color: #fff; border: none; cursor: pointer; box-shadow: 0 2px 8px #b2dfdb; margin-bottom: 1em; transition: background 0.2s; }
    .trivia-btn.relaciones { background: #1976d2; }
    .trivia-btn.adaptaciones { background: #43a047; }
    .trivia-btn.impacto { background: #ff9800; }
    .trivia-btn.intercambios { background: #8d6e63; }
    .trivia-btn.alimentarias { background: #388e3c; }
    .trivia-btn.cadenas { background: #ce93d8; color: #222; }
    .volver-menu { display: block; margin: 2em auto 0 auto; background: #1976d2; color: #fff; font-size: 1.1em; font-weight: bold; padding: 0.7em 2em; border-radius: 30px; text-decoration: none; box-shadow: 0 2px 8px #b2dfdb; letter-spacing: 1px; transition: background 0.2s; width: fit-content; text-align: center; }
    .volver-menu:hover { background: #43a047; color: #fff; }
    @media (max-width: 700px) {
      .trivia-section { max-width: 98vw; padding: 18px 4vw; }
      .trivia-title { font-size: 1.3em; }
      .trivia-block-title { font-size: 1.05em; }
      .trivia-card { padding: 1.2em 0.5em; }
      .trivia-btn, .trivia-options button { font-size: 1em; padding: 0.7em 1em; }
    }
  </style>
</head>
<body>
  <a href="ciencias-naturales.html" class="volver-inicio">‚¨Ö Volver a Ciencias Naturales</a>
  <section class="trivia-section">
    <h1 class="trivia-title">¬°Trivia de Ciencias Naturales!</h1>
    <p>Responde preguntas sobre todos los temas que aprendiste: <b>niveles de organizaci√≥n</b>, <b>relaciones entre los seres vivos</b> y m√°s. ¬°Gana puntos y convi√©rtete en un experto!</p>
    <div id="trivia-menu" class="trivia-menu">
      <button class="trivia-btn relaciones" data-json="quiz_relaciones_seres_vivos.json">ü§ù Relaciones entre los seres vivos</button>
      <button class="trivia-btn adaptaciones" data-json="quiz_adaptaciones_ambiente.json">ü¶é Adaptaciones al ambiente</button>
      <button class="trivia-btn impacto" data-json="quiz_impacto_seres_vivos.json">üåç Impacto de los seres vivos</button>
      <button class="trivia-btn intercambios" data-json="quiz_intercambios_ecosistema.json">üîÑ Intercambios en el ecosistema</button>
      <button class="trivia-btn alimentarias" data-json="quiz_relaciones_alimentarias.json">üçΩÔ∏è Relaciones alimentarias</button>
      <button class="trivia-btn cadenas" data-json="quiz_cadenas_y_redes_troficas.json">üï∏Ô∏è Cadenas y redes tr√≥ficas</button>
    </div>
    <div id="quiz-container"></div>
    <script src="quiz-module.js"></script>
    <script>
      const menu = document.getElementById('trivia-menu');
      const quizContainer = document.getElementById('quiz-container');
      let lastQuiz = null;
      function showMenu() {
        menu.style.display = 'flex';
        quizContainer.innerHTML = '';
      }
      function startQuiz(jsonFile) {
        menu.style.display = 'none';
        fetch(jsonFile)
          .then(r => r.json())
          .then(allQuestions => {
            const selected = [];
            const used = new Set();
            while (selected.length < 5 && used.size < allQuestions.length) {
              const idx = Math.floor(Math.random() * allQuestions.length);
              if (!used.has(idx)) {
                selected.push(allQuestions[idx]);
                used.add(idx);
              }
            }
            quizContainer.innerHTML = '';
            // Bot√≥n volver arriba del quiz
            const volver = document.createElement('a');
            volver.className = 'volver-menu';
            volver.textContent = '‚¨Ö Volver al men√∫ de secciones';
            volver.href = '#';
            volver.onclick = (e) => { e.preventDefault(); showMenu(); };
            quizContainer.appendChild(volver);
            // Quiz
            const quizDiv = document.createElement('div');
            quizDiv.id = 'quiz-inner-container';
            quizContainer.appendChild(quizDiv);
            initQuiz(selected, {
              containerId: 'quiz-inner-container',
              maxAttempts: 2,
              sonidoAcierto: 'imagenes-naturales/sonido-acierto.mp3',
              sonidoError: 'imagenes-naturales/sonido-error.mp3'
            });
            // Bot√≥n volver tambi√©n al final
            const observer = new MutationObserver(() => {
              if (quizContainer.querySelector('.quiz-final')) {
                if (!quizContainer.querySelector('.volver-menu:last-child')) {
                  const volver2 = document.createElement('a');
                  volver2.className = 'volver-menu';
                  volver2.textContent = '‚¨Ö Volver al men√∫ de secciones';
                  volver2.href = '#';
                  volver2.onclick = (e) => { e.preventDefault(); showMenu(); };
                  quizContainer.appendChild(volver2);
                }
              }
            });
            observer.observe(quizContainer, { childList: true, subtree: true });
          });
      }
      menu.querySelectorAll('button').forEach(btn => {
        btn.onclick = () => startQuiz(btn.dataset.json);
      });
      showMenu();
    </script>
  </section>
</body>
</html> 